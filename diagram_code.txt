@startuml
class MainController { 
Главный класс программы
==
    - curmonth: Int
    - cur_networth: Int 
    - cur_profit: Int 
    - cur_loss: Int 
    - tax_percent: Int
    - tax_loss: Int 

    - ins_company: InsuranceComp

    + launch_model() : void
    + restart_model() : void
    + modulate_month() : void
    

}

class InsuranceComp{
Класс страховой компании
==
    Базовые спросы
    - auto_base : Int 
    - estate_base : Int
    - med_base : Int 
    
    - last_program_id : Int 

    Флаги позволяющие отслеживать изменения условий страховых программ
    - auto_config_updated : bool
    - estate_config_updated : bool
    - med_config_updated : bool

    Условия страховых программ
    - auto_price: Int
    - auto_time: Int
    - auto_refund: Int 
    - estate_price: Int
    - estate_time: Int
    - estate_refund : Int
    - med_price: Int
    - med_time: Int
    - med_refund : Int

    - client_number: Int - общее число клиентов 
    - ins_progs_active: List[Int] - id действующих страховых программ (по которым еще есть неистекшие договора)
    - ins_progs: Map[Int][InsuranceAgreement] - пары(id страхового договора, страх договор)

    + gen_ins_cases() : Map[Str][Int] - колво страховых случаев по каждому типу страховки
    + gen_prog_config(type: str) : InsuranceProgram - создаёт объект описывающий страховую программу по текущим усл.
    + add_ins_prog(ins_prog: InsuranceAgreement) : void
    + delete_ins_prog(id: Int)
    + gen_demand() : Map[str][Int] - (колво купл. страховок, прибыль) по каждому типу страховки
}


class InsuranceAgreement{
Класс страхового договора
==
    - program_id: Int
    - has_InsuranceComp: bool
    - InsuranceComp: List[Int] - сроки действия договоров клиентов
    - case_dates: List[Int] - времена возникновения страховых случаев 
    - prog_config: InsuranceProgram

    + add_clients(client_arr:List[Int]) : void
    + gen_insurance_cases() : Int - сумма выплат по данному договору на данной итерации    
}


class InsuranceProgram{
Конфигурация страховой программы
==
    - program_id : Int - уникальный идентификатор страховой программы
    - prog_type : Str


    - time : Int
    - price : Int
    - max_comp : Int

}

MainController "1" --> "1" InsuranceComp
InsuranceComp "1" --> "many" InsuranceAgreement
InsuranceComp "1" --> "3" InsuranceProgram 
InsuranceAgreement "1" --> "1" InsuranceProgram


@enduml