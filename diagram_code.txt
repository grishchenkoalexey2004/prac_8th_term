classDiagram

    class MainController { 
        Главный класс программы
        - curmonth: int
        - demand_conf: Demand
        - fin_state: FinState
        - clients: Clients

        + launch_model() : void
        + restart_model() : void
        + modulate_month() : void
        

    }

    class Clients{
        - client_number: Int 
        - client_history: List[Int]
        - ins_progs_active: List[Int] - id действующих страховых программ (по которым еще есть договора)
        - ins_progs: Map[int][InsuranceAgreement] - пары(id страхового договора, страх договор)

        + gen_ins_cases() : Map[Str][Int] - список убытков по каждому типу страховки
        + add_ins_prog(ins_prog: InsuranceAgreement) : void
        - del_ins_prog(id:Int) : void
    }


    class InsuranceAgreement{
        - program_id: Int
        - has_clients: bool
        - clients: List[Int] - сроки действия договоров клиентов
        - prog_config: ProgConfig

        + add_clients(clients:List[int]) : void
        + remove_clients(indexes: List[int]) : void
        + gen_insurance_cases() : Tuple[int,int]-(кол-во страх случаев, общая сумма выплат)
        

    }


     class Demand{
        - base_demand : Map[str][int] - базовый спрос для различных программ
        - auto_config : ProgConfig
        - estate_config : ProgConfig
        - med_config : ProgConfig

        + gen_demand(): Map[Str][Int]

    }

    class ProgConfig{
        - program_id : Int
        - prog_type : Str
        - time : Int
        - price : Int
        - max_comp : Int
        - profit_coef : Float - коэф-т привлекательности страховки

        + gen_demand() : Int 

    }

    class FinState{
        - cur_balance: Int
        - tax_value: Int
        - cur_profit: Int
        - insurance_loss: Int
        - tax_loss: Int

        - profit_history: List[Int]
        - balance_history: List[Int]
        - ins_loss_history: List[Int]


        + add_to_balance(stats: Map[Str][Int]) : void
        + subtract_from_balance(stats: Map[Str][Int]) : void
        + subtract_tax(): void
    }


    




    
    %% Связи между классами:

    MainController -->  Clients : использует  
    MainController --> Demand: использует
    MainController --> FinState: использует
    Clients --> InsuranceAgreement: использует
    InsuranceAgreement --> ProgConfig
    Demand --> ProgConfig

    


    